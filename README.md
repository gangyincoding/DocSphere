# DocSphere

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Node.js Version](https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen.svg)](https://nodejs.org/)
[![React Version](https://img.shields.io/badge/react-%5E18.0.0-blue.svg)](https://reactjs.org/)

DocSphereæ˜¯ä¸€æ¬¾ä¸“ä¸ºç°ä»£ä¼ä¸šè®¾è®¡çš„æ™ºèƒ½æ–‡æ¡£ç®¡ç†ç³»ç»Ÿï¼Œæ—¨åœ¨ç®€åŒ–ä¼ä¸šå†…éƒ¨æ–‡ä»¶çš„å­˜å‚¨ã€å…±äº«å’Œåä½œæµç¨‹ã€‚é€šè¿‡ç›´è§‚çš„ç”¨æˆ·ç•Œé¢å’Œå¼ºå¤§çš„åŠŸèƒ½ï¼ŒDocSphereå¸®åŠ©å›¢é˜Ÿé«˜æ•ˆç»„ç»‡ã€å®‰å…¨ç®¡ç†å’Œä¾¿æ·è®¿é—®ä¼ä¸šçŸ¥è¯†èµ„äº§ã€‚

ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæä¾›å“åº”å¼è®¾è®¡ï¼Œç¡®ä¿ç”¨æˆ·åœ¨ä»»ä½•è®¾å¤‡ä¸Šéƒ½èƒ½è·å¾—ä¸€è‡´çš„ä¼˜è´¨ä½“éªŒã€‚DocSphereçš„æ ¸å¿ƒç†å¿µæ˜¯"è¿æ¥äººä¸çŸ¥è¯†"ï¼Œé€šè¿‡æ™ºèƒ½çš„æƒé™ç®¡ç†å’Œæœç´¢åŠŸèƒ½ï¼Œç¡®ä¿æ­£ç¡®çš„ä¿¡æ¯èƒ½å¤ŸåŠæ—¶é€è¾¾éœ€è¦å®ƒçš„äººæ‰‹ä¸­ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸš€ æ–‡ä»¶ç®¡ç†
- **å¤šæ ¼å¼æ”¯æŒ**: æ”¯æŒæ–‡æ¡£ã€å›¾ç‰‡ã€è§†é¢‘ç­‰å¤šç§æ–‡ä»¶æ ¼å¼
- **å¤§æ–‡ä»¶ä¸Šä¼ **: æ”¯æŒåˆ†ç‰‡ä¸Šä¼ ï¼Œæœ€å¤§æ”¯æŒ2GBæ–‡ä»¶
- **æ–‡ä»¶é¢„è§ˆ**: å†…ç½®æ–‡ä»¶é¢„è§ˆåŠŸèƒ½ï¼Œæ”¯æŒPDFã€å›¾ç‰‡ã€è§†é¢‘ç­‰
- **æ™ºèƒ½æœç´¢**: åŸºäºElasticsearchçš„å…¨æ–‡æœç´¢å’Œæ ‡ç­¾æœç´¢
- **ç‰ˆæœ¬ç®¡ç†**: æ–‡ä»¶ç‰ˆæœ¬æ§åˆ¶å’Œå†å²è®°å½•

### ğŸ” æƒé™æ§åˆ¶
- **RBACæƒé™æ¨¡å‹**: åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- **ç»†ç²’åº¦æƒé™**: æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çº§åˆ«çš„æƒé™ç®¡ç†
- **æƒé™ç»§æ‰¿**: æ”¯æŒæƒé™è‡ªåŠ¨ç»§æ‰¿å’Œè¦†ç›–
- **ä¸´æ—¶æƒé™**: æ”¯æŒè®¾ç½®æƒé™è¿‡æœŸæ—¶é—´
- **å®¡è®¡æ—¥å¿—**: å®Œæ•´çš„æƒé™å˜æ›´å’Œè®¿é—®æ—¥å¿—

### ğŸ‘¥ åä½œåŠŸèƒ½
- **æ–‡ä»¶åˆ†äº«**: ç”Ÿæˆåˆ†äº«é“¾æ¥ï¼Œæ”¯æŒå¯†ç ä¿æŠ¤å’Œæœ‰æ•ˆæœŸ
- **éƒ¨é—¨ç®¡ç†**: æ”¯æŒå±‚çº§éƒ¨é—¨ç»“æ„
- **ç”¨æˆ·ç»„ç®¡ç†**: çµæ´»çš„ç”¨æˆ·åˆ†ç»„å’Œæƒé™åˆ†é…
- **å®æ—¶åä½œ**: æ”¯æŒå¤šç”¨æˆ·åŒæ—¶ç¼–è¾‘å’Œè¯„è®º

### ğŸ¨ ç”¨æˆ·ä½“éªŒ
- **ç°ä»£åŒ–UI**: åŸºäºAnt Designçš„ä¼ä¸šçº§ç•Œé¢è®¾è®¡
- **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- **ä¸»é¢˜åˆ‡æ¢**: æ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢
- **å›½é™…åŒ–**: æ”¯æŒå¤šè¯­è¨€ç•Œé¢

### ğŸ› ï¸ ç®¡ç†åŠŸèƒ½
- **ç”¨æˆ·ç®¡ç†**: å®Œæ•´çš„ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸç®¡ç†
- **ç³»ç»Ÿç›‘æ§**: å®æ—¶ç³»ç»ŸçŠ¶æ€ç›‘æ§å’Œæ€§èƒ½åˆ†æ
- **æ•°æ®ç»Ÿè®¡**: è¯¦ç»†çš„æ–‡ä»¶ä½¿ç”¨å’Œç”¨æˆ·è¡Œä¸ºç»Ÿè®¡
- **æ‰¹é‡æ“ä½œ**: æ”¯æŒæ–‡ä»¶æ‰¹é‡ä¸Šä¼ ã€åˆ é™¤ã€ç§»åŠ¨ç­‰æ“ä½œ

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æŠ€æœ¯æ ˆ

**åç«¯æŠ€æœ¯æ ˆ**
- **æ¡†æ¶**: Node.js + Express.js
- **æ•°æ®åº“**: MySQL 8.0 + Redis 6.0
- **æœç´¢**: Elasticsearch 8.x
- **æ–‡ä»¶å­˜å‚¨**: MinIO (S3å…¼å®¹)
- **æ¶ˆæ¯é˜Ÿåˆ—**: RabbitMQ
- **è®¤è¯**: JWT + OAuth2

**å‰ç«¯æŠ€æœ¯æ ˆ**
- **æ¡†æ¶**: React 18 + TypeScript
- **çŠ¶æ€ç®¡ç†**: Redux Toolkit + RTK Query
- **UIç»„ä»¶**: Ant Design 5.x
- **æ„å»ºå·¥å…·**: Vite
- **è·¯ç”±**: React Router 6

**å¼€å‘å·¥å…·**
- **åŒ…ç®¡ç†**: pnpm
- **ä»£ç è§„èŒƒ**: ESLint + Prettier
- **æµ‹è¯•**: Jest + React Testing Library
- **å®¹å™¨åŒ–**: Docker + Docker Compose

### æ¶æ„å›¾

```mermaid
graph TB
    subgraph "å‰ç«¯å±‚"
        A[Webç®¡ç†ç•Œé¢]
        B[ç§»åŠ¨ç«¯åº”ç”¨]
    end

    subgraph "APIç½‘å…³å±‚"
        C[Nginx/è´Ÿè½½å‡è¡¡]
        D[API Gateway]
    end

    subgraph "åº”ç”¨æœåŠ¡å±‚"
        E[ç”¨æˆ·æœåŠ¡]
        F[æ–‡ä»¶æœåŠ¡]
        G[æƒé™æœåŠ¡]
        H[æœç´¢æœåŠ¡]
        I[é€šçŸ¥æœåŠ¡]
    end

    subgraph "æ•°æ®å­˜å‚¨å±‚"
        J[MySQL]
        K[Redis]
        L[Elasticsearch]
        M[MinIO/S3]
    end

    A --> C
    B --> C
    C --> D
    D --> E
    D --> F
    D --> G
    D --> H
    D --> I
    E --> J
    E --> K
    F --> M
    G --> J
    H --> L
    I --> K
```

## ğŸ“š æ–‡æ¡£

### æ¶æ„æ–‡æ¡£
- [ç³»ç»Ÿæ¶æ„æ¦‚è¿°](./docs/architecture/system-overview.md) - æ•´ä½“æ¶æ„è®¾è®¡å’Œç³»ç»Ÿæ¦‚è¿°
- [æŠ€æœ¯æ ˆé€‰æ‹©](./docs/architecture/tech-stack.md) - æŠ€æœ¯é€‰å‹è¯´æ˜å’Œå¯¹æ¯”
- [æƒé™æ§åˆ¶ç³»ç»Ÿ](./docs/architecture/permission-control.md) - æƒé™æ¨¡å‹è®¾è®¡å’Œå®ç°

### æ•°æ®åº“æ–‡æ¡£
- [æ•°æ®åº“è®¾è®¡](./docs/database/schema-design.md) - æ•°æ®åº“è¡¨ç»“æ„è®¾è®¡
- [æ•°æ®è¿ç§»æŒ‡å—](./docs/database/migration.md) - æ•°æ®åº“è¿ç§»è„šæœ¬å’Œè¯´æ˜

### APIæ–‡æ¡£
- [APIæ¥å£è§„èŒƒ](./docs/api/api-specification.md) - RESTful APIæ–‡æ¡£
- [APIå˜æ›´æ—¥å¿—](./docs/api/changelog.md) - APIç‰ˆæœ¬æ›´æ–°è®°å½•

### å‰ç«¯æ–‡æ¡£
- [å‰ç«¯æ¶æ„è®¾è®¡](./docs/frontend/frontend-architecture.md) - å‰ç«¯æ¶æ„å’Œç»„ä»¶è®¾è®¡
- [ç»„ä»¶å¼€å‘æŒ‡å—](./docs/frontend/component-guide.md) - ç»„ä»¶å¼€å‘è§„èŒƒå’Œæœ€ä½³å®è·µ

### å¼€å‘æŒ‡å—
- [å¿«é€Ÿå¼€å§‹](./docs/guides/quick-start.md) - é¡¹ç›®æ­å»ºå’Œå¼€å‘ç¯å¢ƒé…ç½®
- [éƒ¨ç½²æŒ‡å—](./docs/guides/deployment.md) - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²è¯´æ˜
- [è´¡çŒ®æŒ‡å—](./docs/guides/contributing.md) - å¼€å‘è´¡çŒ®æµç¨‹å’Œè§„èŒƒ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18.0.0
- MySQL >= 8.0
- Redis >= 6.0
- Elasticsearch >= 8.0
- MinIO æˆ–å…¶ä»–S3å…¼å®¹å­˜å‚¨

### æœ¬åœ°å¼€å‘

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/your-org/docsphere.git
cd docsphere
```

2. **å®‰è£…ä¾èµ–**
```bash
# å®‰è£…åç«¯ä¾èµ–
cd backend
pnpm install

# å®‰è£…å‰ç«¯ä¾èµ–
cd ../frontend
pnpm install
```

3. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ç¯å¢ƒå˜é‡
vim .env
```

4. **å¯åŠ¨æ•°æ®åº“æœåŠ¡**
```bash
# ä½¿ç”¨Docker Composeå¯åŠ¨æ•°æ®åº“
docker-compose up -d mysql redis elasticsearch minio
```

5. **è¿è¡Œæ•°æ®åº“è¿ç§»**
```bash
cd backend
pnpm run migrate
```

6. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
# å¯åŠ¨åç«¯æœåŠ¡
cd backend
pnpm run dev

# å¯åŠ¨å‰ç«¯æœåŠ¡
cd frontend
pnpm run dev
```

7. **è®¿é—®åº”ç”¨**
- å‰ç«¯ç•Œé¢: http://localhost:3000
- APIæ–‡æ¡£: http://localhost:8000/api-docs
- ç®¡ç†åå°: http://localhost:3000/admin

### Dockeréƒ¨ç½²

```bash
# æ„å»ºå’Œå¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

## ğŸ“Š é¡¹ç›®ç»“æ„

```
docsphere/
â”œâ”€â”€ backend/                 # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/     # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ services/        # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ models/          # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ middleware/      # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ routes/          # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ config/          # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ tests/               # æµ‹è¯•æ–‡ä»¶
â”‚   â””â”€â”€ migrations/          # æ•°æ®åº“è¿ç§»
â”œâ”€â”€ frontend/                # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/      # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/           # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ hooks/           # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”œâ”€â”€ services/        # APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ store/           # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ styles/          # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ public/              # é™æ€èµ„æº
â”œâ”€â”€ docs/                    # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture/        # æ¶æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ api/                 # APIæ–‡æ¡£
â”‚   â”œâ”€â”€ database/            # æ•°æ®åº“æ–‡æ¡£
â”‚   â”œâ”€â”€ frontend/            # å‰ç«¯æ–‡æ¡£
â”‚   â””â”€â”€ guides/              # å¼€å‘æŒ‡å—
â”œâ”€â”€ docker-compose.yml       # Dockerç¼–æ’æ–‡ä»¶
â”œâ”€â”€ .github/                 # GitHub Actionsé…ç½®
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®

```bash
# åº”ç”¨é…ç½®
NODE_ENV=development
PORT=8000
JWT_SECRET=your-jwt-secret
JWT_EXPIRES_IN=24h

# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=3306
DB_NAME=docsphere
DB_USER=root
DB_PASSWORD=password

# Redisé…ç½®
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# æ–‡ä»¶å­˜å‚¨é…ç½®
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=docsphere

# Elasticsearché…ç½®
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_PORT=9200
```

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œåç«¯æµ‹è¯•
cd backend
pnpm run test

# è¿è¡Œå‰ç«¯æµ‹è¯•
cd frontend
pnpm run test

# è¿è¡Œé›†æˆæµ‹è¯•
pnpm run test:integration

# ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
pnpm run test:coverage
```

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

- **å¹¶å‘ç”¨æˆ·**: æ”¯æŒ1000+å¹¶å‘ç”¨æˆ·
- **æ–‡ä»¶ä¸Šä¼ **: æ”¯æŒå¤§æ–‡ä»¶ä¸Šä¼ ï¼ˆæœ€å¤§2GBï¼‰
- **å“åº”æ—¶é—´**: APIå“åº”æ—¶é—´<200ms
- **å¯ç”¨æ€§**: 99.9%ç³»ç»Ÿå¯ç”¨æ€§
- **å­˜å‚¨å®¹é‡**: æ”¯æŒPBçº§æ–‡ä»¶å­˜å‚¨

## ğŸ›¡ï¸ å®‰å…¨ç‰¹æ€§

- **è®¤è¯æˆæƒ**: JWT + OAuth2.0è®¤è¯æœºåˆ¶
- **æ•°æ®ä¼ è¾“**: HTTPSåŠ å¯†ä¼ è¾“
- **æ•°æ®å­˜å‚¨**: æ•°æ®åº“å­—æ®µåŠ å¯†å­˜å‚¨
- **è®¿é—®æ§åˆ¶**: ç»†ç²’åº¦çš„æƒé™æ§åˆ¶
- **å®‰å…¨å®¡è®¡**: å®Œæ•´çš„æ“ä½œæ—¥å¿—è®°å½•
- **é˜²æŠ¤æªæ–½**: é˜²SQLæ³¨å…¥ã€XSSã€CSRFæ”»å‡»

## ğŸ¤ è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š

- ğŸ› æŠ¥å‘ŠBug
- ğŸ’¡ æå‡ºæ–°åŠŸèƒ½å»ºè®®
- ğŸ“ æ”¹è¿›æ–‡æ¡£
- ğŸ”§ æäº¤ä»£ç ä¿®å¤
- ğŸ§ª æ·»åŠ æµ‹è¯•ç”¨ä¾‹

è¯·æŸ¥çœ‹ [è´¡çŒ®æŒ‡å—](./docs/guides/contributing.md) äº†è§£è¯¦ç»†çš„è´¡çŒ®æµç¨‹ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE)ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„æ”¯æŒï¼š
- [React](https://reactjs.org/) - ç”¨æˆ·ç•Œé¢åº“
- [Ant Design](https://ant.design/) - ä¼ä¸šçº§UIè®¾è®¡è¯­è¨€
- [Express.js](https://expressjs.com/) - Webåº”ç”¨æ¡†æ¶
- [MySQL](https://www.mysql.com/) - å…³ç³»å‹æ•°æ®åº“
- [Redis](https://redis.io/) - å†…å­˜æ•°æ®åº“
- [Elasticsearch](https://www.elastic.co/) - æœç´¢å¼•æ“

## ğŸ“ è”ç³»æˆ‘ä»¬

- é¡¹ç›®ä¸»é¡µ: https://github.com/your-org/docsphere
- é—®é¢˜åé¦ˆ: https://github.com/your-org/docsphere/issues
- é‚®ç®±: support@docsphere.com
- å®˜ç½‘: https://docsphere.com

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªæ˜Ÿæ ‡ï¼
